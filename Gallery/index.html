<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>3-Card Product Gallery — Light / Dark Theme</title>
    <style>
      :root {
        --bg: #f6f7fb;
        --card: #ffffff;
        --text: #0f1724;
        --muted: #6b7280;
        --accent: #7c3aed;
        --shadow: 0 6px 18px rgba(15, 23, 36, 0.08);
        --glass: rgba(255, 255, 255, 0.6);
      }
      .dark {
        --bg: #0b1020;
        --card: #0f1724;
        --text: #f8fafc;
        --muted: #94a3b8;
        --accent: #8b5cf6;
        --shadow: 0 8px 30px rgba(2, 6, 23, 0.6);
        --glass: rgba(255, 255, 255, 0.04);
      }

      /* Basic layout */
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
          Roboto, "Helvetica Neue", Arial;
        background: linear-gradient(180deg, var(--bg), rgba(0, 0, 0, 0.02));
        color: var(--text);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 48px;
      }

      .shell {
        width: 100%;
        max-width: 1100px;
        padding: 28px;
        border-radius: 16px;
        box-sizing: border-box;
        backdrop-filter: blur(6px);
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.6),
          rgba(255, 255, 255, 0.35)
        );
        box-shadow: var(--shadow);
      }
      .dark .shell {
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.03),
          rgba(255, 255, 255, 0.02)
        );
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 18px;
      }
      h1 {
        font-size: 20px;
        margin: 0;
      }
      p.lead {
        margin: 4px 0 0;
        font-size: 13px;
        color: var(--muted);
      }

      /* Theme toggle */
      .controls {
        display: flex;
        gap: 12px;
        align-items: center;
      }
      .toggle {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border-radius: 999px;
        border: 1px solid transparent;
        cursor: pointer;
        background: var(--glass);
        box-shadow: var(--shadow);
        user-select: none;
      }
      .toggle:focus {
        outline: 3px solid rgba(124, 58, 237, 0.18);
      }

      /* Grid */
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 18px;
      }

      /* Card */
      .card {
        background: var(--card);
        border-radius: 14px;
        overflow: hidden;
        position: relative;
        transition: transform 0.34s cubic-bezier(0.2, 0.9, 0.2, 1),
          box-shadow 0.34s;
        box-shadow: var(--shadow);
        transform: translateY(6px);
        display: flex;
        flex-direction: column;
        will-change: transform, box-shadow;
        min-height: 360px;
      }
      .card:focus-within {
        transform: translateY(0);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.18);
      }
      .card:hover {
        transform: translateY(-8px);
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.18);
      }

      /* Product media */
      .media {
        height: 180px;
        background: linear-gradient(135deg, #e9d5ff, #fff7ed);
        display: grid;
        place-items: center;
      }
      .dark .media {
        background: linear-gradient(
          135deg,
          rgba(139, 92, 246, 0.14),
          rgba(255, 255, 255, 0.02)
        );
      }
      .media svg {
        width: 70%;
        height: auto;
        opacity: 0.95;
      }

      /* Details */
      .details {
        padding: 16px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        flex: 1;
      }
      .title {
        font-weight: 600;
        font-size: 16px;
      }
      .desc {
        font-size: 13px;
        color: var(--muted);
        margin: 0;
      }
      .foot {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: auto;
      }
      .price {
        font-weight: 700;
      }
      .btn {
        border: 0;
        padding: 8px 12px;
        border-radius: 10px;
        background: linear-gradient(90deg, var(--accent), #5b21b6);
        color: white;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 6px 18px rgba(124, 58, 237, 0.18);
        transition: transform 0.18s ease;
        align-self: flex-end;
      }
      .btn:active {
        transform: translateY(1px);
      }

      /* Overlay on hover: reveal more actions */
      .actions {
        position: absolute;
        right: 12px;
        top: 12px;
        background: var(--glass);
        backdrop-filter: blur(6px);
        padding: 6px;
        border-radius: 10px;
        display: flex;
        gap: 6px;
        opacity: 0;
        transform: translateY(-6px) scale(0.98);
        transition: all 0.28s ease;
      }
      .card:hover .actions {
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      .icon-btn {
        border: 0;
        background: transparent;
        padding: 6px;
        border-radius: 8px;
        cursor: pointer;
      }
      .icon-btn:focus {
        outline: 2px solid rgba(124, 58, 237, 0.14);
      }

      /* Fade-in animations */
      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(12px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .card {
        opacity: 0;
        animation: fadeUp 0.6s cubic-bezier(0.2, 0.9, 0.2, 1) forwards;
      }
      .card[data-delay="1"] {
        animation-delay: 0.12s;
      }
      .card[data-delay="2"] {
        animation-delay: 0.24s;
      }
      .card[data-delay="3"] {
        animation-delay: 0.36s;
      }

      /* Responsive tweak */
      @media (max-width: 520px) {
        body {
          padding: 18px;
        }
        .shell {
          padding: 18px;
        }
        .media {
          height: 150px;
        }
      }
    </style>
  </head>
  <body>
    <div class="shell" role="region" aria-label="Product gallery">
      <header>
        <div>
          <h1>Featured products</h1>
          <p class="lead">
            A minimal 3‑card gallery with hover effects, theme toggle, and
            fade‑in motion.
          </p>
        </div>
        <div class="controls">
          <button
            id="themeToggle"
            class="toggle"
            aria-pressed="false"
            aria-label="Toggle color theme"
          >
            <svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              aria-hidden="true"
            >
              <path
                d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"
                stroke="currentColor"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            <span id="themeLabel">Light</span>
          </button>
        </div>
      </header>

      <main class="grid" id="gallery">
        <article
          class="card"
          tabindex="0"
          data-delay="1"
          aria-labelledby="p1-title"
        >
          <div class="actions" aria-hidden="true">
            <button class="icon-btn" title="Wishlist">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M20.8 6.6a4.6 4.6 0 00-6.5 0L12 8.9l-2.3-2.3a4.6 4.6 0 10-6.5 6.5L12 21.2l8.8-8.8a4.6 4.6 0 000-6.5z"
                  stroke="currentColor"
                  stroke-width="1.2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
            <button class="icon-btn" title="Preview">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z"
                  stroke="currentColor"
                  stroke-width="1.2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>

          <div class="media" aria-hidden="true">
            <!-- SVG placeholder art -->
            <svg
              viewBox="0 0 600 400"
              xmlns="http://www.w3.org/2000/svg"
              role="img"
              aria-label="Product image"
            >
              <defs>
                <linearGradient id="g1" x1="0" x2="1">
                  <stop offset="0" stop-color="#fef3c7" />
                  <stop offset="1" stop-color="#fde68a" />
                </linearGradient>
              </defs>
              <rect width="100%" height="100%" rx="18" fill="url(#g1)" />
              <g
                transform="translate(80,50)"
                fill="none"
                stroke="#a16207"
                stroke-width="6"
              >
                <path d="M40 200c40-120 240-120 280 0" stroke-linecap="round" />
              </g>
            </svg>
          </div>

          <div class="details">
            <div>
              <div id="p1-title" class="title">Mango Citrus Tart</div>
              <p class="desc">
                Bright mango curd on a buttery shortcrust — the tropics in a
                bite.
              </p>
            </div>

            <div class="foot">
              <div>
                <div class="price">KES 950</div>
                <div class="desc">Free pickup • Ready in 2 days</div>
              </div>
              <button class="btn">Add to cart</button>
            </div>
          </div>
        </article>

        <article
          class="card"
          tabindex="0"
          data-delay="2"
          aria-labelledby="p2-title"
        >
          <div class="actions" aria-hidden="true">
            <button class="icon-btn" title="Wishlist">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M20.8 6.6a4.6 4.6 0 00-6.5 0L12 8.9l-2.3-2.3a4.6 4.6 0 10-6.5 6.5L12 21.2l8.8-8.8a4.6 4.6 0 000-6.5z"
                  stroke="currentColor"
                  stroke-width="1.2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
            <button class="icon-btn" title="Preview">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z"
                  stroke="currentColor"
                  stroke-width="1.2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>

          <div class="media" aria-hidden="true">
            <svg
              viewBox="0 0 600 400"
              xmlns="http://www.w3.org/2000/svg"
              role="img"
              aria-label="Product image"
            >
              <defs>
                <linearGradient id="g2" x1="0" x2="1">
                  <stop offset="0" stop-color="#ede9fe" />
                  <stop offset="1" stop-color="#f0abfc" />
                </linearGradient>
              </defs>
              <rect width="100%" height="100%" rx="18" fill="url(#g2)" />
              <g transform="translate(50,60)" stroke="#5b21b6" stroke-width="6">
                <circle
                  cx="160"
                  cy="120"
                  r="40"
                  fill="rgba(255,255,255,0.08)"
                />
              </g>
            </svg>
          </div>

          <div class="details">
            <div>
              <div id="p2-title" class="title">Lavender Honey Cheesecake</div>
              <p class="desc">
                Silky cheesecake perfumed with lavender and drizzled with wild
                honey.
              </p>
            </div>

            <div class="foot">
              <div>
                <div class="price">KES 1,250</div>
                <div class="desc">Ships nationwide • 3-day lead</div>
              </div>
              <button class="btn">Add to cart</button>
            </div>
          </div>
        </article>

        <article
          class="card"
          tabindex="0"
          data-delay="3"
          aria-labelledby="p3-title"
        >
          <div class="actions" aria-hidden="true">
            <button class="icon-btn" title="Wishlist">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M20.8 6.6a4.6 4.6 0 00-6.5 0L12 8.9l-2.3-2.3a4.6 4.6 0 10-6.5 6.5L12 21.2l8.8-8.8a4.6 4.6 0 000-6.5z"
                  stroke="currentColor"
                  stroke-width="1.2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
            <button class="icon-btn" title="Preview">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path
                  d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z"
                  stroke="currentColor"
                  stroke-width="1.2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>

          <div class="media" aria-hidden="true">
            <svg
              viewBox="0 0 600 400"
              xmlns="http://www.w3.org/2000/svg"
              role="img"
              aria-label="Product image"
            >
              <defs>
                <linearGradient id="g3" x1="0" x2="1">
                  <stop offset="0" stop-color="#d1fae5" />
                  <stop offset="1" stop-color="#bbf7d0" />
                </linearGradient>
              </defs>
              <rect width="100%" height="100%" rx="18" fill="url(#g3)" />
              <g transform="translate(70,60)" stroke="#065f46" stroke-width="6">
                <path
                  d="M40 80c40-30 160-30 200 0"
                  stroke-linecap="round"
                  fill="none"
                />
              </g>
            </svg>
          </div>

          <div class="details">
            <div>
              <div id="p3-title" class="title">Cocoa Spice Brownie</div>
              <p class="desc">
                Deep, fudgy brownie with a whisper of Kenyan coffee and
                cinnamon.
              </p>
            </div>

            <div class="foot">
              <div>
                <div class="price">KES 700</div>
                <div class="desc">Pickup & delivery options</div>
              </div>
              <button class="btn">Add to cart</button>
            </div>
          </div>
        </article>
      </main>
    </div>

    <script>
      (function () {
        const root = document.documentElement;
        const body = document.body;
        const toggle = document.getElementById("themeToggle");
        const label = document.getElementById("themeLabel");

        // Initialize theme based on localStorage or prefers-color-scheme
        const saved = localStorage.getItem("site-theme");
        const prefersDark =
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches;
        const startDark = saved ? saved === "dark" : prefersDark;
        if (startDark) body.classList.add("dark");
        label.textContent = body.classList.contains("dark") ? "Dark" : "Light";
        toggle.setAttribute("aria-pressed", body.classList.contains("dark"));

        toggle.addEventListener("click", () => {
          const isDark = body.classList.toggle("dark");
          label.textContent = isDark ? "Dark" : "Light";
          toggle.setAttribute("aria-pressed", isDark);
          localStorage.setItem("site-theme", isDark ? "dark" : "light");
        });

        // Keyboard accessibility for cards: Enter opens preview (demo)
        document.querySelectorAll(".card").forEach((card) => {
          card.addEventListener("keydown", (e) => {
            if (e.key === "Enter") {
              const title = card.querySelector(".title").textContent;
              alert("Preview: " + title);
            }
          });
        });

        // Simple purchase/demo interaction (progressive enhancement)
        document.querySelectorAll(".btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const card = e.target.closest(".card");
            const name = card.querySelector(".title").textContent;
            btn.textContent = "Added ✓";
            btn.disabled = true;
            btn.style.opacity = 0.95;
            setTimeout(() => {
              btn.textContent = "Add to cart";
              btn.disabled = false;
              btn.style.opacity = 1;
            }, 1400);
            // In real app: add to cart logic here
          });
        });
      })();
    </script>
  </body>
</html>
